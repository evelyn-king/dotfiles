- defaults:
    link:
      create: true
      relink: true

- clean: ["~"]

- create:
    - ~/.vim/pack/plugins/start
    - ~/.tmux/plugins
    - ~/local-codex
    - ~/local-praxis
    - ~/local-journal

- link:
    ~/.gitconfig: configs/git/gitconfig.gimli
    ~/.condarc: configs/conda/condarc
    ~/.config/:
      glob: true
      path: configs/**
      exclude:
        - configs/btop/**
        - configs/conda/**
        - configs/git/**
        - configs/hypr/**
        - configs/nvim/**
        - configs/starship/**
        - configs/tmux/**
        - configs/vim/**
    ~/.config/starship.toml: configs/starship/starship.toml
    ~/.config/hypr/autostart.conf: configs/hypr/autostart.gimli.conf
    ~/.config/hypr/bindings.conf: configs/hypr/bindings.conf
    ~/.config/hypr/envs.conf: configs/hypr/envs.conf
    ~/.vimrc: configs/vim/vimrc.gimli
    ~/.vim/pack/plugins/start/:
      glob: true
      path: submodules/vim/**
    ~/.tmux.conf: configs/tmux/tmux.conf
    ~/.tmux/plugins/tpm: submodules/tmux/tpm

- shell:
    - git submodule sync --recursive
    - git submodule update --init --recursive --remote
